var u=(l,n,o)=>new Promise((p,r)=>{var c=e=>{try{a(o.next(e))}catch(s){r(s)}},i=e=>{try{a(o.throw(e))}catch(s){r(s)}},a=e=>e.done?p(e.value):Promise.resolve(e.value).then(c,i);a((o=o.apply(l,n)).next())});import{u as v,F as w}from"./useForm-B5RQKQQi.js";import{u as P}from"./useValidator-UROf_CnT.js";import{f as _,Q as m,b as y,h as x,E as R,u as d}from"./vue-chunks-wbK7PffK.js";const E=_({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(l,{expose:n}){const{required:o}=P(),p=l,r=m([{field:"name",label:"角色名称",colProps:{span:12},component:"Input"},{field:"role_key",label:"权限字符",colProps:{span:12},component:"Input"},{field:"disabled",label:"角色状态",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"正常",value:!1},{label:"禁用",value:!0}]},value:!1},{field:"is_admin",label:"最高权限",colProps:{span:12},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"使用",value:!0},{label:"不使用",value:!1}]},value:!1},{field:"order",label:"显示排序",colProps:{span:12},component:"InputNumber",componentProps:{style:{width:"100%"}}},{field:"desc",label:"角色描述",colProps:{span:24},component:"Input",componentProps:{rows:4,type:"textarea",style:{width:"600px"}}}]),c=m({name:[o()],role_key:[o()],order:[o()]}),{formRegister:i,formMethods:a}=v(),{setValues:e,getFormData:s,getElFormExpose:f}=a,b=()=>u(this,null,function*(){const t=yield f();if(yield t==null?void 0:t.validate())return yield s()});return y(()=>p.currentRow,t=>{t&&e(t)},{deep:!0,immediate:!0}),n({submit:b}),(t,h)=>(x(),R(d(w),{rules:c,onRegister:d(i),schema:r},null,8,["rules","onRegister","schema"]))}});export{E as _};
