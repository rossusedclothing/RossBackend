var l=(n,i,e)=>new Promise((c,a)=>{var p=t=>{try{s(e.next(t))}catch(r){a(r)}},m=t=>{try{s(e.throw(t))}catch(r){a(r)}},s=t=>t.done?c(t.value):Promise.resolve(t.value).then(p,m);s((e=e.apply(n,i)).next())});import{u as _,F as h}from"./useForm-B5RQKQQi.js";import{u as v}from"./useValidator-UROf_CnT.js";import{u as b}from"./dict-D8O779xT.js";import{f as w,Q as P,b as y,h as g,E as D,u as f}from"./vue-chunks-wbK7PffK.js";const E=w({__name:"Write",props:{currentRow:{type:Object,default:()=>null}},setup(n,{expose:i}){const{required:e}=v(),c=n,a=P([{field:"name",label:"类别名称",component:"Input",colProps:{span:24},componentProps:{style:{width:"100%"}},formItemProps:{rules:[e()]}},{field:"platform",label:"展示平台",colProps:{span:24},component:"Select",componentProps:{style:{width:"100%"}},optionApi:()=>l(this,null,function*(){return(yield b().getDictObj(["sys_vadmin_platform"])).sys_vadmin_platform}),formItemProps:{rules:[e()]}},{field:"is_active",label:"是否可见",colProps:{span:24},component:"RadioGroup",componentProps:{style:{width:"100%"},options:[{label:"可见",value:!0},{label:"不可见",value:!1}]},value:!0,formItemProps:{rules:[e()]}}]),{formRegister:p,formMethods:m}=_(),{setValues:s,getFormData:t,getElFormExpose:r}=m,d=()=>l(this,null,function*(){const o=yield r();if(yield o==null?void 0:o.validate())return yield t()});return y(()=>c.currentRow,o=>{o&&s(o)},{deep:!0,immediate:!0}),i({submit:d}),(o,u)=>(g(),D(f(h),{onRegister:f(p),schema:a},null,8,["onRegister","schema"]))}});export{E as _};
