var N=Object.defineProperty;var L=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(i,l,e)=>l in i?N(i,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[l]=e,D=(i,l)=>{for(var e in l||(l={}))U.call(l,e)&&C(i,e,l[e]);if(L)for(var e of L(l))F.call(l,e)&&C(i,e,l[e]);return i};var y=(i,l,e)=>new Promise((c,g)=>{var _=r=>{try{m(e.next(r))}catch(u){g(u)}},f=r=>{try{m(e.throw(r))}catch(u){g(u)}},m=r=>r.done?c(r.value):Promise.resolve(r.value).then(_,f);m((e=e.apply(i,l)).next())});import{r as j,d as G,v as $}from"./index-SAHUQZ2g.js";import{u as J,_ as K}from"./Table.vue_vue_type_script_lang-C8htGDV6.js";/* empty css                  */import{_ as Q}from"./Search.vue_vue_type_script_setup_true_lang-DSCbi6Eq.js";import{_ as H}from"./ContentWrap.vue_vue_type_script_setup_true_lang-Bq-Mkqar.js";import{_ as W}from"./Detail.vue_vue_type_script_setup_true_lang-CvncHec1.js";import{_ as X}from"./Dialog.vue_vue_type_style_index_0_lang-Bhm9ynpg.js";import{s as z}from"./dict-DJyIMlYA.js";import{u as Y}from"./dict-D8O779xT.js";import{V as Z}from"./element-plus-C0vem28W.js";import{f as ee,a as p,Q as O,M as s,F as d,K as B,h as E,i as te,G as w,u as o,q as I,L as oe,E as le,J as ae}from"./vue-chunks-wbK7PffK.js";/* empty css                       *//* empty css                 *//* empty css                   *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css               *//* empty css                      *//* empty css                  *//* empty css                        *//* empty css                */import"./useForm-B5RQKQQi.js";/* empty css                     *//* empty css               *//* empty css                 *//* empty css                          *//* empty css                       *//* empty css                       *//* empty css                   *//* empty css                *//* empty css                    */import"./style.css_vue_type_style_index_0_src_true_lang-BFkgkg1x.js";import"./wang-editor-K_dPeC8b.js";/* empty css                   *//* empty css                    *//* empty css                         */import"./_Uint8Array-DZlgfqcV.js";import"./useIcon-DF_xcSd1.js";import"./Descriptions-DAQ5cpzp.js";/* empty css              *//* empty css                  */import"./dict-D1Ddn9_W.js";const se=i=>j.get({url:"/vadmin/record/logins",params:i}),Xe=ee({name:"SystemRecordLogin",__name:"Login",setup(i){const{t:l}=G(),e=p([]),c=p([]);y(this,null,function*(){const t=yield Y().getDictObj(["sys_vadmin_platform","sys_vadmin_login_method"]);e.value=t.sys_vadmin_platform,c.value=t.sys_vadmin_login_method});const{tableRegister:_,tableState:f,tableMethods:m}=J({fetchDataApi:()=>y(this,null,function*(){const{pageSize:a,currentPage:t}=f,n=yield se(D({page:o(t),limit:o(a)},o(S)));return{list:n.data||[],total:n.count||0}})}),{dataList:r,loading:u,total:T,pageSize:v,currentPage:h}=f,{getList:x}=m,q=O([{field:"id",label:"编号",show:!0,disabled:!0,width:"120px"},{field:"telephone",label:"手机号",width:"150px",show:!0,disabled:!0},{field:"status",label:"登录状态",show:!0,slots:{default:a=>s(d,null,[s(Z,{modelValue:a.row.status,size:"small",disabled:!0},null)])}},{field:"platform",label:"登录平台",width:"150px",show:!0,slots:{default:a=>s(d,null,[s("div",null,[z(e.value,a.row.platform)])])}},{field:"login_method",label:"认证方式",width:"150px",show:!0,slots:{default:a=>s(d,null,[s("div",null,[z(c.value,a.row.login_method)])])}},{field:"ip",label:"登录地址",show:!0,disabled:!0,width:"150px"},{field:"address",label:"登录地点",show:!0},{field:"postal_code",label:"邮政编码",show:!1},{field:"area_code",label:"地区区号",show:!1},{field:"browser",label:"浏览器",show:!0},{field:"system",label:"操作系统",show:!0},{field:"response",label:"响应信息",show:!1,disabled:!0},{field:"request",label:"请求信息",show:!1,disabled:!0},{field:"create_datetime",label:"创建时间",show:!0,sortable:!0},{field:"action",label:"操作",show:!0,width:100,slots:{default:a=>{const t=a.row;return s(d,null,[s($,{type:"primary",link:!0,onClick:()=>M(t,"detail")},{default:()=>[B("详情")]})])}}}]),A=O([{field:"telephone",label:"手机号",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"platform",label:"登录平台",component:"Select",componentProps:{style:{width:"214px"},options:e.value}},{field:"ip",label:"登录地址",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"address",label:"登录地点",component:"Input",componentProps:{clearable:!1,style:{width:"214px"}}},{field:"status",label:"登录状态",component:"Select",componentProps:{style:{width:"214px"},options:[{label:"登录成功",value:!0},{label:"登录失败",value:!1}]}}]),S=p({}),P=a=>{h.value=1,S.value=a,x()},b=p(!1),R=p(""),V=p(),k=p(""),M=(a,t)=>{R.value=l("exampleDemo.detail"),k.value=t,V.value=a,b.value=!0};return(a,t)=>(E(),te(d,null,[s(o(H),null,{default:w(()=>[s(o(Q),{schema:A,onReset:P,onSearch:P},null,8,["schema"]),s(o(K),{"current-page":o(h),"onUpdate:currentPage":t[0]||(t[0]=n=>I(h)?h.value=n:null),"page-size":o(v),"onUpdate:pageSize":t[1]||(t[1]=n=>I(v)?v.value=n:null),showAction:"",columns:q,"node-key":"id",data:o(r),loading:o(u),pagination:{total:o(T)},onRegister:o(_),onRefresh:o(x)},null,8,["current-page","page-size","columns","data","loading","pagination","onRegister","onRefresh"])]),_:1}),s(o(X),{modelValue:b.value,"onUpdate:modelValue":t[3]||(t[3]=n=>b.value=n),title:R.value,width:"800px"},{footer:w(()=>[s(o($),{onClick:t[2]||(t[2]=n=>b.value=!1)},{default:w(()=>[B(oe(o(l)("dialogDemo.close")),1)]),_:1})]),default:w(()=>[k.value==="detail"?(E(),le(W,{key:0,"current-row":V.value},null,8,["current-row"])):ae("",!0)]),_:1},8,["modelValue","title"])],64))}});export{Xe as default};
